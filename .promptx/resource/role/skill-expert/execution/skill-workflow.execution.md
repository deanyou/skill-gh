<execution>
  <constraint>
    ## SKILL语言技术限制
    - **Lisp语法约束**：必须遵循前缀表达式和括号匹配规则
    - **Cadence环境依赖**：函数必须在Virtuoso环境中运行
    - **内存管理限制**：大对象处理时需考虑Cadence内存机制
    - **版本兼容性**：需要考虑不同Cadence版本间的API差异
    - **性能约束**：大规模设计中的计算和内存效率要求
  </constraint>

  <rule>
    ## 强制性开发规则
    - **一函数一文件**：遵循项目的ineed依赖加载模式
    - **@optional参数**：保持向后兼容性的参数设计
    - **错误处理强制**：所有函数必须包含适当的错误检查
    - **命名规范性**：文件名与主函数名保持一致
    - **依赖声明**：使用ineed机制明确声明函数依赖
    - **文档注释**：复杂函数需要添加用法说明注释
  </rule>

  <guideline>
    ## 开发指导原则
    - **简洁优先**：优选简单直接的实现方案
    - **模块化思维**：将复杂功能分解为可复用的小函数
    - **用户友好**：提供清晰的错误信息和使用反馈
    - **性能意识**：在可读性和性能间寻求平衡
    - **扩展性考虑**：设计时考虑未来功能扩展需求
  </guideline>

  <process>
    ## SKILL开发标准流程
    
    ### Phase 1: 需求分析 (15分钟)
    ```mermaid
    flowchart TD
        A[理解用户需求] --> B[分析现有代码]
        B --> C[确定技术方案]
        C --> D[评估实现复杂度]
        D --> E{复杂度评估}
        E -->|简单| F[直接实现]
        E -->|复杂| G[架构设计]
    ```
    
    ### Phase 2: 设计实现 (30-60分钟)
    ```mermaid
    graph LR
        A[函数签名设计] --> B[核心算法实现]
        B --> C[错误处理添加]
        C --> D[参数验证]
        D --> E[性能优化]
        E --> F[代码审查]
    ```
    
    ### Phase 3: 测试验证 (15分钟)
    ```mermaid
    flowchart LR
        A[语法检查] --> B[基本功能测试]
        B --> C[边界条件测试]
        C --> D[性能验证]
        D --> E[集成测试]
    ```
    
    ### 代码质量检查清单
    - [ ] 函数命名清晰描述功能
    - [ ] 参数类型和默认值合理
    - [ ] 错误情况有适当处理
    - [ ] 关键步骤有注释说明
    - [ ] 无明显性能瓶颈
    - [ ] 与现有代码风格一致
    
    ### 常用SKILL模式应用
    
    #### 参数处理模式
    ```lisp
    defun(functionName(param1 @optional param2 param3)
      let((localVar1 localVar2)
        ; 参数验证和默认值设置
        when(!param2 param2 = defaultValue)
        ; 主体逻辑
      )
    )
    ```
    
    #### 错误处理模式
    ```lisp
    when(condition
      printf("Error: description\n")
      nil  ; 返回失败标识
    )
    ```
    
    #### 列表处理模式
    ```lisp
    foreach(item itemList
      when(conditionCheck(item)
        processItem(item)
      )
    )
    ```
    
    ### 调试策略
    ```mermaid
    graph TD
        A[发现问题] --> B{问题类型}
        B -->|语法错误| C[语法检查工具]
        B -->|逻辑错误| D[逐步调试]
        B -->|性能问题| E[性能分析]
        B -->|集成问题| F[依赖检查]
        
        C --> G[修复并重测]
        D --> G
        E --> G
        F --> G
    ```
  </process>

  <criteria>
    ## 代码质量评价标准
    
    ### 功能正确性
    - ✅ 核心功能按规格实现
    - ✅ 边界条件正确处理
    - ✅ 错误情况优雅处理
    - ✅ 返回值类型一致
    
    ### 代码质量
    - ✅ 命名清晰有意义
    - ✅ 结构清晰易理解
    - ✅ 注释适当充分
    - ✅ 符合项目编码规范
    
    ### 性能效率
    - ✅ 无明显性能瓶颈
    - ✅ 内存使用合理
    - ✅ 算法复杂度适宜
    - ✅ 大规模数据处理能力
    
    ### 可维护性
    - ✅ 模块化程度高
    - ✅ 依赖关系清晰
    - ✅ 易于扩展修改
    - ✅ 测试覆盖充分
  </criteria>
</execution>